{"version":3,"file":"static/js/704.51109293.chunk.js","mappings":"yMAOA,MAkEA,EAlEoBA,KAChB,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,CAAC,IAC3BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,IAC7BK,GAAeC,EAAAA,EAAAA,SAAO,GAsB5B,OApBAC,EAAAA,EAAAA,YAAU,KACaC,WACf,IAAKH,EAAaI,QAAS,CACvBP,GAAW,GACX,IACIQ,QAAQC,IAAI,oBACZ,MAAM,KAAEC,SAAeC,EAAAA,EAAMC,IAAI,GAADC,OAAIC,EAAAA,EAAO,qBAC3CjB,EAAQa,GACRP,EAAaI,SAAU,CAC3B,CAAE,MAAON,GACLC,EAASD,EAAMc,SAAW,wBAC9B,CAAC,QACGf,GAAW,EACf,CACJ,GAGJgB,EAAY,GACb,IAECjB,GAAgBkB,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KAGvBC,EAAAA,EAAAA,MAAA,WAAAC,SAAA,CACKZ,QAAQC,IAAI,OAAQb,GACpBK,GACGgB,EAAAA,EAAAA,KAACI,EAAAA,EAAO,CAAAD,SAAEnB,KAEVgB,EAAAA,EAAAA,KAAA,OAAKK,UAAU,sEAAqEF,UAChFD,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kDAAiDF,SAAA,EAC5DH,EAAAA,EAAAA,KAAA,OAAKK,UAAU,2EAA0EF,UACrFH,EAAAA,EAAAA,KAAA,OACIM,IAAI,GACJC,IAAK5B,EAAK6B,MACVH,UAAU,mDAIlBH,EAAAA,EAAAA,MAAA,OAAKG,UAAU,WAAUF,SAAA,EACrBH,EAAAA,EAAAA,KAAA,MAAIK,UAAU,iCAAgCF,SAAExB,EAAK8B,QACrDT,EAAAA,EAAAA,KAAA,MAAIK,UAAU,iCAAgCF,SAAExB,EAAK+B,YAErDV,EAAAA,EAAAA,KAAA,KAAGK,UAAU,qBAAoBF,SAC5BxB,EAAKgC,WAGVX,EAAAA,EAAAA,KAACY,EAAAA,GAAI,CACDC,GAAE,SAAAjB,OAAWjB,EAAKmC,KAClBT,UAAU,uKAAsKF,SACnL,kCAOX,C,wDCnElB,MAQA,EARgBY,IAAiB,IAAhB,SAACC,GAASD,EACzB,OACEf,EAAAA,EAAAA,KAAA,OAAAG,SACGa,GACG,C","sources":["Components/Layout/MostPopular.jsx","Components/Message/Message.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { backend } from '../../Connection/conn';\r\nimport Message from '../Message/Message';\r\nimport Loader from '../Message/Loader';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst MostPopular = () => {\r\n    const [book, setBook] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const hasLoadedRef = useRef(false); // Ref to track if data has already been loaded\r\n\r\n    useEffect(() => {\r\n        const fetchBooks = async () => {\r\n            if (!hasLoadedRef.current) { // Check if data has been loaded\r\n                setLoading(true);\r\n                try {\r\n                    console.log('Fetching data...');\r\n                    const { data } = await axios.get(`${backend}/api/mostpopular`);\r\n                    setBook(data);\r\n                    hasLoadedRef.current = true; // Mark as loaded\r\n                } catch (error) {\r\n                    setError(error.message || 'Failed to fetch books');\r\n                } finally {\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        fetchBooks();\r\n    }, []);\r\n\r\n    if (loading) return <Loader />; // Display loader while loading\r\n\r\n    return (\r\n        <section>\r\n            {console.log('book', book)}\r\n            {error ? (\r\n                <Message>{error}</Message>\r\n            ) : (\r\n                <div className=\"mx-auto max-w-screen-xl px-4 py-8 sm:px-6 sm:py-12 lg:px-8 lg:py-16\">\r\n                    <div className=\"grid grid-cols-1 gap-8 lg:grid-cols-2 lg:gap-16\">\r\n                        <div className=\"relative h-64 overflow-hidden rounded-lg sm:h-80 lg:order-last lg:h-full\">\r\n                            <img\r\n                                alt=\"\"\r\n                                src={book.cover}\r\n                                className=\"absolute inset-0 h-full w-full object-cover\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"lg:py-24\">\r\n                            <h2 className=\"text-3xl font-bold sm:text-4xl\">{book.name}</h2>\r\n                            <h2 className=\"text-2xl font-bold sm:text-3xl\">{book.category}</h2>\r\n\r\n                            <p className=\"mt-4 text-gray-600\">\r\n                                {book.summary}\r\n                            </p>\r\n\r\n                            <Link\r\n                                to={`/book/${book._id}`}\r\n                                className=\"mt-8 inline-block rounded bg-indigo-600 px-12 py-3 text-sm font-medium text-white transition hover:bg-indigo-700 focus:outline-none focus:ring focus:ring-yellow-400\"\r\n                            >\r\n                                Get Started Reading\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default MostPopular;\r\n","import React from 'react'\r\n\r\nconst Message = ({Children}) => {\r\n  return (\r\n    <div>\r\n      {Children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message\r\n"],"names":["MostPopular","book","setBook","useState","loading","setLoading","error","setError","hasLoadedRef","useRef","useEffect","async","current","console","log","data","axios","get","concat","backend","message","fetchBooks","_jsx","Loader","_jsxs","children","Message","className","alt","src","cover","name","category","summary","Link","to","_id","_ref","Children"],"sourceRoot":""}