"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[225],{1784:(t,e,a)=>{a.d(e,{c:()=>r});a(9060);var s=a(1560),c=a(2496);const r=t=>{let{url:e}=t;const a=(0,s.i6)();return(0,c.jsx)("div",{className:"w-full flex justify-start my-5",children:(0,c.jsx)("button",{className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors duration-200",onClick:()=>{a(e)},children:"Go Back"})})}},6776:(t,e,a)=>{a.d(e,{Cg:()=>h,Ub:()=>w,Wh:()=>x,YH:()=>b,e6:()=>i,ew:()=>g,gn:()=>m,m8:()=>d,my:()=>p,yU:()=>y});var s=a(9780),c=a(4348),r=a(8524);const n=localStorage.getItem("token")?localStorage.getItem("token"):null,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)},withCredentials:!0},l={headers:{"Content-type":"application/json"}},i=t=>async e=>{try{e({type:c.S});const{data:a}=await s.c.post("".concat(r.M,"/api/story/create/"),t,o);e({type:c.eY,payload:a})}catch(a){e({type:c.gf,payload:a})}},d=()=>async t=>{try{t({type:c.S_});const e=localStorage.getItem("token")?localStorage.getItem("token"):null,a={headers:{"Content-type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}},withCredentials:!0},{data:n}=await s.c.get("".concat(r.M,"/api/story/list"),a);t({type:c.gr,payload:n})}catch(e){t({type:c.cW,payload:e})}},p=t=>async e=>{try{e({type:c.wp});const{data:a}=await s.c.get("".concat(r.M,"/api/story/").concat(t),l);e({type:c.sT,payload:a})}catch(a){e({type:c.Sw,payload:a})}},y=(t,e)=>async a=>{try{a({type:c.SY});const{data:n}=await s.c.post("".concat(r.M,"/api/story/").concat(t,"/chapter/create/"),e,o);a({type:c.wb,payload:n})}catch(n){a({type:c.ol,payload:n})}},x=t=>async e=>{try{e({type:c.UJ});const{data:a}=await s.c.get("".concat(r.M,"/api/story/").concat(t,"/chapter/list"),l);e({type:c.i3,payload:a})}catch(a){e({type:c.U6,payload:a})}},h=(t,e)=>async a=>{try{a({type:c.Ws});const{data:n}=await s.c.get("".concat(r.M,"/api/story/").concat(t,"/chapter/").concat(e),l);a({type:c.Mn,payload:n})}catch(n){a({type:c.WG,payload:n})}},m=()=>async t=>{try{t({type:c.Ah});const{data:e}=await s.c.get("".concat(r.M,"/api/admin/story/list"),o);t({type:c.I1,payload:e})}catch(e){t({type:c.S6,payload:e})}},g=t=>async e=>{try{e({type:c.cX});const{data:a}=await s.c.get("".concat(r.M,"/api/admin/story/").concat(t,"/chapter/list"),o);e({type:c._I,payload:a})}catch(a){e({type:c.kf,payload:a})}},b=(t,e,a)=>async n=>{try{console.log(a),n({type:c.aA});const{data:l}=await s.c.put("".concat(r.M,"/api/story/").concat(t,"/chapter/").concat(e,"/update"),a,o);n({type:c.IT,payload:l})}catch(l){n({type:c.We,payload:l})}},w=(t,e)=>async a=>{try{console.log(e),a({type:c.m8});const{data:n}=await s.c.put("".concat(r.M,"/api/story/").concat(t,"/update"),e,o);a({type:c.Ip,payload:n})}catch(n){a({type:c.An,payload:n})}}},9225:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var s=a(9060),c=a(1560),r=a(12),n=a(6776),o=a(624),l=a(1784),i=a(2496);const d=t=>{let{dispatch:e}=t;const{storyid:a}=(0,c.W4)(),d=(0,c.i6)(),p=(0,o.w1)((t=>t.listAdminChapter)),{chapters:y}=p;console.log(y),(0,s.useEffect)((()=>{e((0,n.ew)(a))}),[e,a]);return void 0===y?null:(0,i.jsxs)("div",{className:"bg-white p-8 rounded-md w-full",children:[(0,i.jsx)(l.c,{url:"/list-story"}),(0,i.jsxs)("div",{className:"flex items-center justify-between pb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-gray-600 font-semibold",children:"Select Chapter"}),(0,i.jsx)("span",{className:"text-xs",children:"All Chapters from story"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex bg-gray-50 items-center p-2 rounded-md",children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),(0,i.jsx)("input",{className:"bg-gray-50 outline-none ml-1 block",type:"text",placeholder:"search..."})]}),(0,i.jsx)("div",{className:"lg:ml-40 ml-10 space-x-8",children:(0,i.jsx)(r.cH,{to:"/add/story/".concat(a,"/add"),className:"bg-indigo-600 px-4 py-2 rounded-md text-white font-semibold tracking-wide cursor-pointer",children:"New Chapter"})})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:(0,i.jsxs)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[(0,i.jsxs)("table",{className:"min-w-full leading-normal",children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:["Id","name","Created At","views","likes","Status"].map(((t,e)=>(0,i.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center",children:t},e)))})}),(0,i.jsx)("tbody",{children:y&&y.map(((t,e)=>(0,i.jsxs)("tr",{className:"bg-slate-50 hover:bg-yellow-200",onClick:e=>((t,e)=>{t.preventDefault(),d("/add/story/".concat(a,"/chapter/").concat(e,"/edit"))})(e,t._id),children:[(0,i.jsx)("td",{className:"px-5 py-5 border-b border-gray-200  text-sm",children:(0,i.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t._id})}),(0,i.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 text-sm",children:(0,i.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t.title})}),(0,i.jsx)("td",{className:"px-5 py-5 border-b border-gray-200  text-sm",children:(0,i.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:new Date(t.createdAt).toLocaleDateString()})}),(0,i.jsx)("td",{className:"px-5 py-5 border-b border-gray-200  text-sm",children:(0,i.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t.views})}),(0,i.jsx)("td",{className:"px-5 py-5 border-b border-gray-200  text-sm",children:(0,i.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t.likes})}),(0,i.jsx)("td",{className:"px-5 py-5 border-b border-gray-200  text-sm",children:(0,i.jsxs)("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight",children:[(0,i.jsx)("span",{"aria-hidden":!0,className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),(0,i.jsx)("span",{className:"relative",children:t.status||"Active"})]})})]},e)))})]}),(0,i.jsxs)("div",{className:"px-5 py-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between",children:[(0,i.jsx)("span",{className:"text-xs xs:text-sm text-gray-900",children:"Showing 1 to 4 of 50 Entries"}),(0,i.jsxs)("div",{className:"inline-flex mt-2 xs:mt-0",children:[(0,i.jsx)("button",{className:"text-sm text-indigo-50 transition duration-150 hover:bg-indigo-500 bg-indigo-600 font-semibold py-2 px-4 rounded-l",children:"Prev"}),"\xa0 \xa0",(0,i.jsx)("button",{className:"text-sm text-indigo-50 transition duration-150 hover:bg-indigo-500 bg-indigo-600 font-semibold py-2 px-4 rounded-r",children:"Next"})]})]})]})})})]})}}}]);
//# sourceMappingURL=225.67f9057e.chunk.js.map