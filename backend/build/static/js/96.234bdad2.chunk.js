"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[96],{7196:(t,a,e)=>{e.d(a,{c:()=>s});e(9060);var c=e(2496);const s=t=>{let{rating:a,count:e}=t;return(0,c.jsxs)("span",{className:"flex items-center",children:[[...Array(5)].map(((t,e)=>(0,c.jsx)("svg",{fill:a>=e+1?"currentColor":"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 text-red-500",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},e))),(0,c.jsxs)("span",{className:"text-gray-600 ml-3",children:[e," Reviews"]})]})}},9072:(t,a,e)=>{e.d(a,{c:()=>s});e(9060);var c=e(2496);const s=t=>{let{children:a}=t;return(0,c.jsx)("div",{children:a})}},6776:(t,a,e)=>{e.d(a,{Cg:()=>m,Ub:()=>w,Wh:()=>h,YH:()=>u,_C:()=>f,e6:()=>i,ew:()=>g,gn:()=>x,kz:()=>j,m8:()=>d,my:()=>p,xk:()=>r,yU:()=>y});var c=e(9780),s=e(4348),n=e(8524);const o=localStorage.getItem("token")?localStorage.getItem("token"):null,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o)},withCredentials:!0},l={headers:{"Content-type":"application/json"}},i=t=>async a=>{try{a({type:s.S});const{data:e}=await c.c.post("".concat(n.M,"/api/story/create/"),t,r);a({type:s.eY,payload:e})}catch(e){a({type:s.gf,payload:e})}},d=()=>async t=>{try{t({type:s.S_});const a=localStorage.getItem("token")?localStorage.getItem("token"):null,e={headers:{"Content-type":"application/json",...a&&{Authorization:"Bearer ".concat(a)}},withCredentials:!0},{data:o}=await c.c.get("".concat(n.M,"/api/story/list"),e);t({type:s.gr,payload:o})}catch(a){t({type:s.cW,payload:a})}},p=t=>async a=>{try{a({type:s.wp});const{data:e}=await c.c.get("".concat(n.M,"/api/story/").concat(t),l);a({type:s.sT,payload:e})}catch(e){a({type:s.Sw,payload:e})}},y=(t,a)=>async e=>{try{e({type:s.SY});const{data:o}=await c.c.post("".concat(n.M,"/api/story/").concat(t,"/chapter/create/"),a,r);e({type:s.wb,payload:o})}catch(o){e({type:s.ol,payload:o})}},h=t=>async a=>{try{a({type:s.UJ});const{data:e}=await c.c.get("".concat(n.M,"/api/story/").concat(t,"/chapter/list"),l);a({type:s.i3,payload:e})}catch(e){a({type:s.U6,payload:e})}},m=(t,a)=>async e=>{try{e({type:s.Ws});const{data:o}=await c.c.get("".concat(n.M,"/api/story/").concat(t,"/chapter/").concat(a),l);e({type:s.Mn,payload:o})}catch(o){e({type:s.WG,payload:o})}},x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return async a=>{try{a({type:s.Ah});const{data:e}=await c.c.get("".concat(n.M,"/api/admin/story/list").concat(t?"?page=".concat(t):""),r);a({type:s.I1,payload:e})}catch(e){a({type:s.S6,payload:e})}}},g=t=>async a=>{try{a({type:s.cX});const{data:e}=await c.c.get("".concat(n.M,"/api/admin/story/").concat(t,"/chapter/list"),r);a({type:s._I,payload:e})}catch(e){a({type:s.kf,payload:e})}},u=(t,a,e)=>async o=>{try{console.log(e),o({type:s.aA});const{data:l}=await c.c.put("".concat(n.M,"/api/story/").concat(t,"/chapter/").concat(a,"/update"),e,r);o({type:s.IT,payload:l})}catch(l){o({type:s.We,payload:l})}},w=(t,a)=>async e=>{try{e({type:s.m8});const{data:o}=await c.c.put("".concat(n.M,"/api/story/").concat(t,"/update"),a,r);e({type:s.Ip,payload:o})}catch(o){e({type:s.An,payload:o})}},j=t=>async a=>{try{a({type:s.oh});const{data:e}=await c.c.post("".concat(n.M,"/api/story/").concat(t.storyid,"/comment/create"),t,r);a({type:s.k$,payload:e})}catch(e){a({type:s.Ej,payload:e})}},f=t=>async a=>{try{a({type:s._Y});const{data:e}=await c.c.get("".concat(n.M,"/api/story/").concat(t,"/comment/list"),l);a({type:s._8,payload:e})}catch(e){a({type:s.O0,payload:e})}}},7096:(t,a,e)=>{e.r(a),e.d(a,{default:()=>y});var c=e(9060),s=e(1560),n=e(12),o=e(7196),r=e(6776),l=e(624),i=e(3120),d=e(9072),p=e(2496);const y=t=>{let{dispatch:a}=t;const{chapterid:e,storyid:y}=(0,s.W4)(),h=(0,l.w1)((t=>t.readChapter)),{loading:m,error:x,chapter:g,count:u}=h;if((0,c.useEffect)((()=>{try{a((0,r.Cg)(y,e))}catch(t){alert(t)}}),[e,a,y]),m)return(0,p.jsx)(i.c,{});if(x)return(0,p.jsx)(d.c,{children:"error"});if(!g._id)return null;const w=g.chapter.split(/\n+/).filter((t=>""!==t.trim()));return(0,p.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,p.jsxs)("div",{className:"max-w-3xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[(0,p.jsx)("h1",{className:"text-3xl font-semibold text-blue-700 mb-4",children:"Read Chapter"}),(0,p.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,p.jsxs)("h2",{className:"text-xl font-medium",children:["Story Id: ",g.story]}),(0,p.jsxs)("h2",{className:"text-xl font-medium",children:["Chapter Id: ",e]})]}),(0,p.jsxs)("section",{className:"mb-8",children:[(0,p.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6",children:[(0,p.jsx)("img",{src:g.cover,alt:"",className:"w-48 h-48 object-cover rounded-lg shadow-md"}),(0,p.jsxs)("div",{className:"mt-4 md:mt-0 md:ml-6",children:[(0,p.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:g.title||"Untitled"}),(0,p.jsx)("h2",{className:"text-lg text-gray-600",children:g.title}),(0,p.jsxs)("h2",{className:"text-lg text-gray-600",children:[g.views," Views"]}),(0,p.jsxs)("h2",{className:"text-lg text-gray-600",children:[g.likes," Likes"]}),(0,p.jsx)(o.c,{rating:g.rating,count:g.numReviews})]})]}),(0,p.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-inner",children:[w.map(((t,a)=>(0,p.jsx)("p",{className:"mb-4 text-justify whitespace-pre-wrap text-gray-700 text-lg leading-relaxed ",style:{textIndent:"2em",marginBottom:"1.5em"},children:t},a))),(0,p.jsx)("p",{children:"***END***"})]})]}),(0,p.jsxs)("div",{className:"flex justify-between mb-6",children:[e>1&&(0,p.jsx)(n.cH,{to:"/story/".concat(y,"/chapter/").concat(e-1),className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Previous"}),u>parseInt(e)&&(0,p.jsx)(n.cH,{to:"/story/".concat(y,"/chapter/").concat(parseInt(g._id)+1),className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Next"})]})]})})}}}]);
//# sourceMappingURL=96.234bdad2.chunk.js.map