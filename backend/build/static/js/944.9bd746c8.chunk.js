"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[944],{7196:(t,e,a)=>{a.d(e,{c:()=>s});a(9060);var c=a(2496);const s=t=>{let{rating:e,count:a}=t;return(0,c.jsxs)("span",{className:"flex items-center",children:[[...Array(5)].map(((t,a)=>(0,c.jsx)("svg",{fill:e>=a+1?"currentColor":"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 text-red-500",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},a))),(0,c.jsxs)("span",{className:"text-gray-600 ml-3",children:[a," Reviews"]})]})}},2432:(t,e,a)=>{a.d(e,{c:()=>s});a(9060);var c=a(2496);const s=()=>(0,c.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-32 w-32 mb-4"}),(0,c.jsx)("h2",{className:"text-white text-xl font-semibold",children:"Loading..."}),(0,c.jsx)("p",{className:"text-white text-sm mt-2",children:"Please wait"})]})})},6776:(t,e,a)=>{a.d(e,{Cg:()=>x,Ub:()=>f,Wh:()=>m,YH:()=>u,e6:()=>d,ew:()=>g,gn:()=>h,m8:()=>i,my:()=>p,yU:()=>y});var c=a(9780),s=a(4348),o=a(8524);const r=localStorage.getItem("token")?localStorage.getItem("token"):null,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)},withCredentials:!0},n={headers:{"Content-type":"application/json"}},d=t=>async e=>{try{e({type:s.S});const{data:a}=await c.c.post("".concat(o.M,"/api/story/create/"),t,l);e({type:s.eY,payload:a})}catch(a){e({type:s.gf,payload:a})}},i=()=>async t=>{try{t({type:s.S_});const e=localStorage.getItem("token")?localStorage.getItem("token"):null,a={headers:{"Content-type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}},withCredentials:!0},{data:r}=await c.c.get("".concat(o.M,"/api/story/list"),a);t({type:s.gr,payload:r})}catch(e){t({type:s.cW,payload:e})}},p=t=>async e=>{try{e({type:s.wp});const{data:a}=await c.c.get("".concat(o.M,"/api/story/").concat(t),n);e({type:s.sT,payload:a})}catch(a){e({type:s.Sw,payload:a})}},y=(t,e)=>async a=>{try{a({type:s.SY});const{data:r}=await c.c.post("".concat(o.M,"/api/story/").concat(t,"/chapter/create/"),e,l);a({type:s.wb,payload:r})}catch(r){a({type:s.ol,payload:r})}},m=t=>async e=>{try{e({type:s.UJ});const{data:a}=await c.c.get("".concat(o.M,"/api/story/").concat(t,"/chapter/list"),n);e({type:s.i3,payload:a})}catch(a){e({type:s.U6,payload:a})}},x=(t,e)=>async a=>{try{a({type:s.Ws});const{data:r}=await c.c.get("".concat(o.M,"/api/story/").concat(t,"/chapter/").concat(e),n);a({type:s.Mn,payload:r})}catch(r){a({type:s.WG,payload:r})}},h=()=>async t=>{try{t({type:s.Ah});const{data:e}=await c.c.get("".concat(o.M,"/api/admin/story/list"),l);t({type:s.I1,payload:e})}catch(e){t({type:s.S6,payload:e})}},g=t=>async e=>{try{e({type:s.cX});const{data:a}=await c.c.get("".concat(o.M,"/api/admin/story/").concat(t,"/chapter/list"),l);e({type:s._I,payload:a})}catch(a){e({type:s.kf,payload:a})}},u=(t,e,a)=>async r=>{try{console.log(a),r({type:s.aA});const{data:n}=await c.c.put("".concat(o.M,"/api/story/").concat(t,"/chapter/").concat(e,"/update"),a,l);r({type:s.IT,payload:n})}catch(n){r({type:s.We,payload:n})}},f=(t,e)=>async a=>{try{console.log(e),a({type:s.m8});const{data:r}=await c.c.put("".concat(o.M,"/api/story/").concat(t,"/update"),e,l);a({type:s.Ip,payload:r})}catch(r){a({type:s.An,payload:r})}}},1944:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var c=a(9060),s=a(1560),o=a(12),r=a(6776),l=a(624),n=a(2496);const d=()=>{const{id:t}=(0,s.W4)(),e=(0,l.OY)(),a=(0,l.w1)((t=>t.listChapter)),{chapters:d}=a;return(0,c.useEffect)((()=>{e((0,r.Wh)(t)),console.log("com reloaders")}),[t,e]),console.log(typeof d),d&&"object"===typeof d?(console.log(d),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-2xl mt-4 text-gray-500 font-bold text-center",children:"Chapters"}),(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 pb-10 mt-8 sm:mt-16 w-full",children:d.map(((e,a)=>(0,n.jsxs)("div",{className:"flex flex-col items-start overflow-hidden shadow-lg rounded-xl transition-transform duration-300 transform hover:scale-105",children:[(0,n.jsx)(o.cH,{to:"/story/".concat(t,"/chapter/").concat(e._id),className:"block w-full",children:(0,n.jsx)("img",{className:"object-cover w-full h-48 rounded-t-xl transition duration-300 transform hover:scale-105",src:e.cover,alt:"Chapter cover for ".concat(e.title)})}),(0,n.jsx)("div",{className:"relative flex flex-col items-start p-4 bg-white border-t border-gray-200 rounded-b-xl",children:(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-800 truncate",children:(0,n.jsxs)(o.cH,{to:"/story/".concat(t,"/chapter/").concat(e._id),className:"hover:text-blue-600",children:[e._id," : ",e.title]})})})]},a)))})]})):null};var i=a(7196);const p=t=>{let{book:e}=t;const[a,s]=(0,c.useState)();return e?(console.log(e.cover),(0,n.jsx)("section",{className:"text-gray-700 body-font overflow-hidden bg-white",children:(0,n.jsx)("div",{className:"container px-5 py-24 mx-auto",children:(0,n.jsxs)("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[(0,n.jsx)("img",{alt:"ecommerce",className:"lg:w-1/2 w-full object-cover object-center rounded border border-gray-200",src:e.cover,loading:"lazy"}),(0,n.jsxs)("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[(0,n.jsx)("h1",{className:"text-gray-900 text-3xl title-font font-medium mb-1",children:e.name}),(0,n.jsx)("h2",{className:"text-sm title-font text-gray-500 tracking-widest",children:e.category}),(0,n.jsx)("div",{className:"flex mb-4 justify-end",children:(0,n.jsx)(i.c,{rating:e.rating,count:e.numReviews})}),(0,n.jsx)("p",{className:"leading-relaxed",children:e.summary}),(0,n.jsx)("div",{className:"flex mt-6 items-center pb-5 border-b-2 border-gray-200 mb-5"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"title-font font-medium text-2xl text-gray-900",children:(0,n.jsxs)("div",{className:"flex justify-start items-center mt-2",children:[(0,n.jsx)("p",{className:"text-sm text-green-500 font-bold bg-gray-100 rounded-full py-2 px-2 hover:text-red-500",children:e.views?e.views:"0"}),(0,n.jsx)("p",{className:"text-sm text-gray-400 font-bold ml-5",children:"Views"})]})}),(0,n.jsx)("button",{className:"flex ml-auto text-white bg-red-500 border-0 py-2 px-6 focus:outline-none hover:bg-red-600 rounded",children:(0,n.jsx)(o.cH,{to:"/story/".concat(e._id,"/chapter/1"),children:"Read"})})]})]})]})})})):null};var y=a(2432);const m=c.memo(p),x=c.memo(d),h=()=>{const{id:t}=(0,s.W4)(),e=(0,l.OY)();(0,c.useEffect)((()=>{!t||i&&i._id==t||e((0,r.my)(t))}),[e,t]);const a=(0,l.w1)((t=>t.readStory)),{loading:o,error:d,book:i}=a;return(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsx)("div",{className:"text-red-500 text-center",children:d}),o?(0,n.jsx)(y.c,{}):(0,n.jsx)(m,{book:i}),(0,n.jsx)("div",{className:"mt-6 bg-gray-50",children:(0,n.jsx)("div",{className:"px-10 py-6 mx-auto",children:!o&&(0,n.jsx)(x,{})})})]})}}}]);
//# sourceMappingURL=944.9bd746c8.chunk.js.map